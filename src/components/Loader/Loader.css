:root {
    --size: 560px;
    --orbit-speed: 6s;
    --twinkle-speed: 2.8s;
    --planet-size: 0.36;
    --ship: calc(var(--size) * 0.1);
    --ring-color: rgba(255, 255, 255, 0.14);
    --space: #060915;
    --osc: calc(var(--size) * 0.06);
    --osc-speed: 3.1s;
    --emoji-correction: -40deg;
}

.loader {
    position: relative;
    width: var(--size);
    height: var(--size);
    isolation: isolate;
}

.loader::before,
.loader::after {
    content: "";
    position: absolute;
    inset: -20%;
    pointer-events: none;
    z-index: -1;
    filter: blur(calc(var(--size) * 0.12));
    background:
        radial-gradient(
            circle at 30% 70%,
            rgba(86, 130, 255, 0.22),
            transparent 40%
        ),
        radial-gradient(
            circle at 80% 30%,
            rgba(255, 120, 200, 0.16),
            transparent 45%
        ),
        radial-gradient(
            circle at 50% 50%,
            rgba(255, 255, 255, 0.06),
            transparent 55%
        );
    opacity: 0.9;
}
.loader::after {
    filter: blur(calc(var(--size) * 0.18));
    opacity: 0.55;
}

.scene {
    position: absolute;
    inset: 0;
}

.planet {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: calc(var(--size) * var(--planet-size));
    height: calc(var(--size) * var(--planet-size));
    border-radius: 50%;
    background:
        radial-gradient(
            120% 120% at 35% 35%,
            #ffffff,
            #d7e6ff 35%,
            #a8c7ff 60%,
            #6fa5ff 78%,
            #2b64db 100%
        ),
        radial-gradient(
            80% 80% at 60% 65%,
            rgba(255, 255, 255, 0.35),
            transparent 60%
        );
    box-shadow:
        0 0 calc(var(--size) * 0.03) rgba(120, 170, 255, 0.9),
        0 0 calc(var(--size) * 0.18) rgba(90, 162, 255, 0.35),
        inset -10px -16px calc(var(--size) * 0.06) rgba(0, 0, 30, 0.25);
}
.planet::before {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) rotate(-18deg);
    width: 135%;
    height: 42%;
    border-radius: 50%;
    background:
        radial-gradient(
                closest-side,
                rgba(255, 255, 255, 0.85),
                rgba(255, 255, 255, 0.25) 55%,
                transparent 61%
            )
            center/100% 100% no-repeat,
        conic-gradient(
            from 90deg,
            rgba(255, 255, 255, 0.12),
            rgba(255, 255, 255, 0) 25% 75%,
            rgba(255, 255, 255, 0.12)
        );
    filter: drop-shadow(0 0 calc(var(--size) * 0.04) rgba(255, 255, 255, 0.25));
}
.planet::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 52%;
    transform: translate(-50%, -50%) rotate(-18deg);
    width: 120%;
    height: 36%;
    border-radius: 50%;
    background: radial-gradient(
        closest-side,
        rgba(0, 0, 0, 0.14),
        rgba(0, 0, 0, 0) 60%
    );
    mix-blend-mode: multiply;
    opacity: 0.6;
}

.orbit {
    position: absolute;
    inset: 0;
}
.orbit::after {
    content: "";
    position: absolute;
    inset: calc(var(--ship) * 0.1);
    border-radius: 50%;
    box-shadow:
        inset 0 0 0 2px var(--ring-color),
        0 0 calc(var(--size) * 0.03) rgba(135, 175, 255, 0.2);
}

@keyframes orbit-spin {
    to {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

.orbit-inner {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 0;
    height: 0;
    transform: translate(-50%, -50%);
}
.orbit-spin {
    animation: orbit-spin var(--orbit-speed) linear infinite;
}

@keyframes radial-osc {
    0% {
        transform: translateX(var(--r));
    }
    22% {
        transform: translateX(calc(var(--r) + var(--osc)));
    }
    30% {
        transform: translateX(calc(var(--r) + var(--osc) * 0.82));
    }
    50% {
        transform: translateX(var(--r));
    }
    72% {
        transform: translateX(calc(var(--r) - var(--osc) * 0.55));
    }
    100% {
        transform: translateX(var(--r));
    }
}

.ship-r {
    position: absolute;
    width: 0;
    height: 0;
}
.ship-r {
    --r: calc(var(--size) / 2 - var(--ship) / 2 + var(--size) * 0.01);
}
.ship-r {
    transform: translateX(var(--r));
    animation: radial-osc var(--osc-speed) cubic-bezier(0.5, 0, 0.3, 1) infinite;
}

@keyframes micro-tilt {
    0%,
    50%,
    100% {
        transform: rotate(calc(90deg + var(--emoji-correction))) scale(1);
    }
    18% {
        transform: rotate(calc(90deg + var(--emoji-correction) - 1.2deg))
            scale(1.03);
    }
    72% {
        transform: rotate(calc(90deg + var(--emoji-correction) + 1.2deg))
            scale(0.985);
    }
}

.ship-emoji {
    display: inline-block;
    font-size: var(--ship);
    line-height: 1;
    transform-origin: center;
    transform: rotate(calc(90deg + var(--emoji-correction)));
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.45))
        drop-shadow(0 0 10px rgba(125, 170, 255, 0.36));
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.35);
    animation: micro-tilt var(--osc-speed) ease-in-out infinite;
    will-change: transform, filter;
}

@keyframes twinkle {
    50% {
        opacity: 0.9;
        transform: scale(1.9);
    }
}

.stars {
    position: absolute;
    inset: -6%;
}
.star {
    position: absolute;
    width: 3px;
    height: 3px;
    background: #d6e4ff;
    border-radius: 50%;
    opacity: 0.22;
    animation: twinkle var(--twinkle-speed) ease-in-out infinite;
}
.star:nth-child(1) {
    left: 6%;
    top: 18%;
    animation-delay: 0.2s;
}
.star:nth-child(2) {
    left: 82%;
    top: 12%;
    animation-delay: 0.6s;
}
.star:nth-child(3) {
    left: 22%;
    top: 82%;
    animation-delay: 0.9s;
}
.star:nth-child(4) {
    left: 66%;
    top: 70%;
    animation-delay: 0.3s;
}
.star:nth-child(5) {
    left: 48%;
    top: 8%;
    animation-delay: 0.75s;
}
.star:nth-child(6) {
    left: 12%;
    top: 58%;
    animation-delay: 0.45s;
}
.star:nth-child(7) {
    left: 74%;
    top: 44%;
    animation-delay: 0.15s;
}

@media only screen and (max-width: 600px) {
    :root {
        --size: 280px;
    }
}
